global !p
import px
for full_name, name in px.libs().items():
    exec "import " + full_name
    exec "import " + full_name + " as " + name
endglobal

# uppercase for keys
context "not re.search('=', px.buffer.get()[px.cursor.get()[0]])"
snippet "^([^\[])$" "" wreA
`!p snip.rv=match.group(1).upper()`$1=$2
endsnippet

# uppercase for headers
pre_expand "px.whitespaces.ensure_newlines(snip.buffer, px.cursor.get(), 1)"
snippet "^\[(\w)" "" wrA
[`!p snip.rv=match.group(1).upper()`
endsnippet
